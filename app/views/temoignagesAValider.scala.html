@*********************************************************************************
 * 
 *   Copyright 2014 BOUSSEJRA Malik Olivier, HALDEBIQUE Geoffroy, ROYER Johan
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 *   
 ********************************************************************************@
@(listObservation :List[Observation])
 @main("Témoignages à valider"){<header>
		<dl>
		<a href="/">Retour</a>
		</dl>
		<h1> Page pour l'expert qui voit la liste des témoignages à valider </h1>
	</header>
	<h2>Sélectionner le type de témoignage voulus</h2>
	<form action="/temoignagesAValider" method="GET"><button type="submit">Non Vus</button></form>
	<form action="/temoignagesAValider/enSuspens" method="GET"><button type="submit">En Suspend</button></form>

        
        <table>
        	<tr>
        		
        		<th>témoins</th>
        		<th>espèce</th>
        		<th>déterminateur</th>
        		<th>Commentaires</th>
        		<th>date d'observation</th>
        		<th>lieu-dit</th>
        		<th>commune</th>
        		<th>UTMS</th>
        		<th>memo</th>
        		<th>date de soumission</th>
        		<th>informations supplémentaires</th>
        		<th>date de dernière modification</th>
        		<th>Marquer comme Vu/Valider<th>
        		<th>Demander</th>
        	</tr>
        	@for(observation <- listObservation) {
        	<tr>
        		<td>@for(ficheHasMembre <-observation.observation_fiche.getFicheHasMembre()){ @ficheHasMembre.membre} 
        		</td>
        		<td>@observation.observation_espece.espece_nom</td>
        		<td>@observation.observation_determinateur</td>
        		<td>@observation.observation_commentaires</td>
        		<td>@observation.observation_fiche.fiche_date.getTime().format("dd/MM/yyyy")</td>
        		<td>@observation.observation_fiche.fiche_lieudit</td>
        		<td></td>
        		<td>@observation.observation_fiche.fiche_utm.utm</td>
        		<td>@observation.observation_fiche.fiche_memo</td>
        		<td>@observation.observation_fiche.fiche_date_soumission.getTime().format("dd/MM/yyyy")</td>
        		<td>@for(informationsComplementaires <-observation.getInfos()){
        			@informationsComplementaires.informations_complementaires_nombre_de_specimens
        			@informationsComplementaires.informations_complementaires_stade_sexe
        			} </td>
        		<td>@observation.observation_date_derniere_modification.getTime().format("dd/MM/yyyy")</td>
        		<td>@if(observation.observation_validee==1){<form action="/temoignagesAValider/valide?observation_id=@observation.observation_id" method="POST">
        		<button type="submit">Valider</button></form>
        		}else{@if(observation.observation_vue_par_expert){}else{<form action="/temoignagesAValider/vu?observation_id=@observation.observation_id" method="POST">
        		<button type="submit">Marquer comme vu</button></form>}}</td>
        		<td>@observation.observation_id</td>
        		<td></td>
        	</tr>}
        </table>
        		
}{<script>
</script>}